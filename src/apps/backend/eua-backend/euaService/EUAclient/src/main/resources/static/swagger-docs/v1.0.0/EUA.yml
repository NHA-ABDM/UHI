---
openapi: 3.0.1
info:
  title: EUA Project
  description: EUA UHI(Unified Health Interface)
  termsOfService: termsOfServiceUrl
  contact:
    name: National Health Authority India
  license:
    name: License 1.0
    url: https://licenseUrl.com
  version: '1.0'
servers:
  - url: "//localhost:8905/"
tags:
  - name: EUA
    description: EUA Controller
paths:
  "/api/v1/confirm":
    post:
      tags:
        - EUA
      summary: EUA intends to book order
      description: Confirms the order by agreeing to the fullfillment terms
      requestBody:
        description: Confirmation of the order once fulfillment terms are agreed
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              "$ref": "#/components/schemas/Provider/properties/id"
                        state:
                          "$ref": "#/components/schemas/State"
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                "$ref": "#/components/schemas/Item/properties/id"
                              quantity:
                                "$ref": "#/components/schemas/ItemQuantity/properties/selected"
                              fulfillment_id:
                                "$ref": "#/components/schemas/Fulfillment/properties/id"
                            required:
                              - id
                        billing:
                          "$ref": "#/components/schemas/Billing"
                        fulfillment:
                          "$ref": "#/components/schemas/Fulfillment"
                  required:
                    - order
              required:
                - context
                - message
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message
  "/api/v1/init":
    post:
      tags:
        - EUA
      summary: EUA requests payment details
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        description: Initialization of the order once quote is agreed
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              "$ref": "#/components/schemas/Provider/properties/id"
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                "$ref": "#/components/schemas/Item/properties/id"
                              quantity:
                                "$ref": "#/components/schemas/ItemQuantity/properties/selected"
                              fulfillment_id:
                                "$ref": "#/components/schemas/Fulfillment/properties/id"
                            required:
                              - id
                        billing:
                          "$ref": "#/components/schemas/Billing"
                        fulfillment:
                          "$ref": "#/components/schemas/Fulfillment"
                        quote:
                          "$ref": "#/components/schemas/Quotation"
                  required:
                    - order
              required:
                - context
                - message
            examples:
              Patient provides any additional billing and fulfillment details and finalizes booking:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: init
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      provider:
                        id: '1'
                      items:
                        - id: '1'
                          fulfillment_id: '2'
                      billing:
                        name: John Doe
                        address:
                          door: '12'
                          building: Salarpuria Greenage
                          street: No 7, Hosur Road
                          area_code: '560068'
                        email: john.doe@example.com
                        phone: "+91-9999999999"
                      fulfillment:
                        customer:
                          id: 61-8787-9274-4422
                          cred: example@ndhm
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message
  "/api/v1/message":
    post:
      tags:
        - EUA
      summary: Message from sender
      operationId: messageUsingPOST
      requestBody:
        description: When HSPA sends message, it calls this API.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Root'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '201':
          description: Created
          content: {}
        '401':
          description: Unauthorized
          content: {}
        '403':
          description: Forbidden
          content: {}
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

      x-codegen-request-body-name: request
  "/api/v1/on_message":
    post:
      tags:
        - EUA
      summary: Message reponse from receiver
      operationId: onMessageUsingPOST
      requestBody:
        description: request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Root'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '201':
          description: Created
          content: {}
        '401':
          description: Unauthorized
          content: {}
        '403':
          description: Forbidden
          content: {}
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
      x-codegen-request-body-name: request


  "/api/v1/search":
    post:
      tags:
        - EUA
      summary: Search requestor to broadcast the message over EUAs
      operationId: searchUsingPOST
      parameters:
        - name: headers
          in: header
          description: headers
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    intent:
                      "$ref": "#/components/schemas/Intent"
              required:
                - context
                - message
            examples:
              Search by healthcare service Name:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      item:
                        descriptor:
                          name: MRI Scan
              Get details of a specific healthcare service:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      item:
                        id: 289edce4-d002-4962-b311-4c025e22b4f6
              Search by healthcare service provider name:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      provider:
                        descriptor:
                          name: MAX Hospitals
              Get services of a specific healthcare service provider:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      provider:
                        id: 675eecec-2da8-41e1-9303-3aeac992bb7e
              Search by healthcare services category name:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      category:
                        descriptor:
                          name: ent
                      fulfillment:
                        person:
                          descriptor:
                            name: Dr Asthana
              Get all healthcare services under a category:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      category:
                        id: c63a05de-242f-4314-a748-323f71a1d3b1
              Search by Healthcare Professional Name:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      fulfillment:
                        person:
                          descriptor:
                            name: Dr Asthana
              Search by Healthcare professional ID:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      fulfillment:
                        person:
                          cred: uhiId:98479873843985
              Search by Healthcare Fulfillment Service timings:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      fulfillment:
                        start:
                          time:
                            timestamp: 2021-03-23T10:00.000Z
                        end:
                          time:
                            timestamp: 2021-03-23T11:00.000Z
              Search for teleconsultation services by symptom:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      category:
                        descriptor:
                          name: ent
                      tags:
                        "./dhp-0_7_1.symptoms": cough,fever
                        ./dhp-0_7_1.temperature": 101 C
              Search for a cardiologist with 5+ years of experience and who can speak Kannada:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      category:
                        descriptor:
                          code: CARDIOLOGY
                      fulfillment:
                        person:
                          tags:
                            "./dhp-0_7_1.exp": gt 5Y
                            "./dhp-0_7_1.lang": kan
              Search for a female doctor in Bangalore who speaks Hindi and is from Internal Medicine department:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: search
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    intent:
                      fulfillment:
                        person:
                          tags:
                            "./dhp-0_7_1.gender": female
                            "./dhp-0_7_1.lang": hin
                      category:
                        descriptor:
                          code: INTERNAL_MEDICINE
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Response"
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  "/api/v1/cancel":
    post:
      tags:
        - EUA
      summary: Appointment cancellation
      description: Select items from the catalog and build your order
      requestBody:
        description: Selection of various products/services as part of order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              "$ref": "#/components/schemas/Provider/properties/id"
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                "$ref": "#/components/schemas/Item/properties/id"
                              quantity:
                                "$ref": "#/components/schemas/ItemQuantity/properties/selected"
                              fulfillment_id:
                                "$ref": "#/components/schemas/Fulfillment/properties/id"
                            required:
                              - id
                  required:
                    - order
              required:
                - context
                - message
            examples:
              Patient requests cancellation for an appointment booked by him:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      id: 14b18490-21ec-11ed-aecd-db5b69b8edb6
                      state: CANCELLED
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message


  "/api/v1/on_cancel":
    post:
      tags:
        - EUA
      summary: Appointment cancellation response
      description: Response for cancellation from HSPA
      requestBody:
        description: Response for cancellation from HSPA
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              "$ref": "#/components/schemas/Provider/properties/id"
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                "$ref": "#/components/schemas/Item/properties/id"
                              quantity:
                                "$ref": "#/components/schemas/ItemQuantity/properties/selected"
                              fulfillment_id:
                                "$ref": "#/components/schemas/Fulfillment/properties/id"
                            required:
                              - id
                  required:
                    - order
              required:
                - context
                - message
            examples:
              HSPA sends cancellation response:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: on_cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      id: 14b18490-21ec-11ed-aecd-db5b69b8edb6
                      state: CANCELLED
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message

  "/api/v1/on_search":
    post:
      tags:
        - EUA
      summary: Search response from HSPA
      description: Sends catalog of healtchare services & products as a response to /search
      requestBody:
        description: Sends catalog of healtchare services & products as a response to /search
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  "$ref": "#/components/schemas/Message"
              required:
                - context
                - message
            examples:
              HSPA sends Slot details response:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: on_cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    catalog:
                      descriptor:
                        name: HSPA
                      fulfillments:
                        - id: 49a61dc5-48c7-47b8-8d58-bdc3e7b6b039
                          type: Teleconsultation
                          agent:
                            id: ganeshborse@hpr.ndhm
                            name: ganeshborse@hpr.ndhm - Ganesh Vikram Borse
                            gender: M
                            image:
                          start:
                            time:
                              timestamp: '2022-09-02T14:00:00'
                          end:
                            time:
                              timestamp: '2022-09-02T14:15:00'
                          tags:
                            "@abdm/gov.in/slot": 49a61dc5-48c7-47b8-8d58-bdc3e7b6b039
                        - id: 3e1bc2ea-a063-4359-9599-7ebeed688e0f
                          type: Teleconsultation
                          agent:
                            id: ganeshborse@hpr.ndhm
                            name: ganeshborse@hpr.ndhm - Ganesh Vikram Borse
                            gender: M
                            image:
                          start:
                            time:
                              timestamp: '2022-09-02T14:15:00'
                          end:
                            time:
                              timestamp: '2022-09-02T14:30:00'
                          tags:
                            "@abdm/gov.in/slot": 3e1bc2ea-a063-4359-9599-7ebeed688e0f
                          responses:
                            '200':
                              description: Acknowledgement of message received
                              content:
                                application/json:
                                  schema:
                                    type: object
                                    properties:
                                      message:
                                        type: object
                                        properties:
                                          ack:
                                            "$ref": "#/components/schemas/Ack"
                                        required:
                                          - ack
                                      error:
                                        "$ref": "#/components/schemas/Error"
                                    required:
                                      - message
              HSPA sends Doctor details response:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: on_cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    catalog:
                      descriptor:
                        name: HSPA
                      fulfillments:
                        - id: '0'
                          type: Teleconsultation
                          agent:
                            id: ganeshborse@hpr.ndhm
                            name: ganeshborse@hpr.ndhm - Ganesh Vikram Borse
                            gender: M
                            image:
                            tags:
                              "@abdm/gov/in/education": MBBS
                              "@abdm/gov/in/experience": '5.0'
                              "@abdm/gov/in/follow_up": '200.0'
                              "@abdm/gov/in/first_consultation": '300.0'
                              "@abdm/gov/in/speciality": Cardiology
                              "@abdm/gov/in/languages": Eng, Hin
                              "@abdm/gov/in/upi_id": ganeshvborse@icici
                              "@abdm/gov/in/hpr_id": 73-5232-1888-8686
                          start:
                            time:
                              timestamp: T12:02+05:30
                          end:
                            time:
                              timestamp: T12:02+05:30

      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message

  "/api/v1/on_init":
    post:
      tags:
        - EUA
      summary: Payment detail from HSPA
      description: Response from HSPA consists of an order object with payment details updated
      requestBody:
        description: Response from HSPA consists of an order object with payment details updated
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  "$ref": "#/components/schemas/Message"
              required:
                - context
                - message
            examples:
              HSPA sends payment details:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: on_cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      item:
                        id: '1'
                        descriptor:
                          name: Consultation
                        fulfillment_id: 271d4ead-d053-4d4e-a20a-51e5cccced83
                        price:
                          currency: INR
                          value: '1000'
                      fulfillment:
                        id: 271d4ead-d053-4d4e-a20a-51e5cccced83
                        type: Teleconsultation
                        agent:
                          id: ganeshborse@hpr.ndhm
                          name: ganeshborse@hpr.ndhm - Ganesh Vikram Borse
                          gender: M
                          image:
                          tags:
                            "@abdm/gov/in/education": MBBS
                            "@abdm/gov/in/experience": '5.0'
                            "@abdm/gov/in/follow_up": '200.0'
                            "@abdm/gov/in/first_consultation": '300.0'
                            "@abdm/gov/in/speciality": Cardiology
                            "@abdm/gov/in/languages": Eng, Hin
                            "@abdm/gov/in/upi_id": ganeshvborse@icici
                            "@abdm/gov/in/hpr_id": 73-5232-1888-8686
                        start:
                          time:
                            timestamp: '2022-09-02T17:15:00'
                        end:
                          time:
                            timestamp: '2022-09-02T17:30:00'
                        tags:
                          "@abdm/gov.in/slot_id": 271d4ead-d053-4d4e-a20a-51e5cccced83
                      billing:
                        name: Vishal Umakant Swami
                        address:
                          door: ''
                          name: C/O Umakant Swami someshwar nagar Parli
                          locality: ''
                          city:
                          state: Maharashtra
                          country: INDIA
                          area_code: '431515'
                        email: vswami241@gmail.com
                        phone: '7721043046'
                      customer:
                        id: ''
                        cred: vishalswami@sbx
                      id: 8f61f520-22b5-11ed-80e5-15248892b45d


      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message


  "/api/v1/on_confirm":
    post:
      tags:
        - EUA
      summary: Confirmation response from HSPA
      description: HSPA sends an active order object
      requestBody:
        description: HSPA sends an active order object
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  "$ref": "#/components/schemas/Context"
                message:
                  "$ref": "#/components/schemas/Message"
              required:
                - context
                - message
            examples:
              HSPA confirms appointment:
                value:
                  context:
                    domain: nic2004:85110
                    country: IND
                    city: std:080
                    action: on_cancel
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      id: 1edf8560-22ba-11ed-9b01-930d2a2c2daf
                      state: CONFIRMED
                      item:
                        id: '1'
                        descriptor:
                          name: Consultation
                        price:
                          currency: INR
                          value: '1000'
                        fulfillment_id: 3a155953-68f7-402d-a430-be2b56dfd3cb
                      fulfillment:
                        id: 3a155953-68f7-402d-a430-be2b56dfd3cb
                        type: Teleconsultation
                        agent:
                          id: ganeshborse@hpr.ndhm
                          name: ganeshborse@hpr.ndhm - Ganesh Vikram Borse
                          gender: M
                          tags:
                            "@abdm/gov/in/education": MBBS
                            "@abdm/gov/in/experience": '5.0'
                            "@abdm/gov/in/follow_up": '200.0'
                            "@abdm/gov/in/first_consultation": '300.0'
                            "@abdm/gov/in/speciality": Cardiology
                            "@abdm/gov/in/languages": Eng, Hin
                            "@abdm/gov/in/upi_id": ganeshvborse@icici
                            "@abdm/gov/in/hpr_id": 73-5232-1888-8686
                        start:
                          time:
                            timestamp: '2022-09-02T16:45:00'
                        end:
                          time:
                            timestamp: '2022-09-02T17:00:00'
                        tags:
                          "@abdm/gov.in/slot_id": 3a155953-68f7-402d-a430-be2b56dfd3cb
                          "@abdm/gov.in/patient_key": "[159, 248, 220, 195, 187, 221, 217, 26, 236,
                            136, 151, 89, 126, 130, 238, 52, 205, 85, 227, 64, 252, 213, 209, 207, 56,
                            212, 244, 15, 210, 7, 188, 14]"
                          "@abdm/gov.in/doctors_key": "[250, 140, 77, 58, 99, 72, 235, 4, 29, 107, 226,
                            172, 252, 207, 36, 22, 175, 95, 57, 203, 224, 229, 12, 157, 210, 43, 67,
                            243, 96, 8, 63, 0]"
                      billing:
                        name: Vishal Umakant Swami
                        address:
                          door: ''
                          name: C/O Umakant Swami someshwar nagar Parli
                          building:
                          street:
                          locality: ''
                          ward:
                          city:
                          state: Maharashtra
                          country: INDIA
                          area_code: '431515'
                        email: vswami241@gmail.com
                        phone: '7721043046'
                      quote:
                        price:
                          currency: INR
                          value: '1000'
                        breakup:
                          - title: Consultation
                            price:
                              currency: INR
                              value: '1000'
                          - title: CGST @ 5%
                            price:
                              currency: INR
                              value: '0'
                          - title: SGST @ 5%
                            price:
                              currency: INR
                              value: '0'
                          - title: Registration
                            price:
                              currency: INR
                              value: '0'
                      customer:
                        id: ''
                        cred: vishalswami@sbx
                      payment:
                        uri: https://api.bpp.com/pay?amt=1500&txn_id=ksh87yriuro34iyr3p4&mode=upi&vpa=sana.bhatt@upi
                        type: ON-ORDER
                        status: PAID
                        tl_method: http/get
                        params:
                          transaction_id: ''
                          amount: '1000'
                          mode: UPI
                          vpa: ganeshvborse@icici

      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        "$ref": "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    "$ref": "#/components/schemas/Error"
                required:
                  - message

components:
  schemas:
    Address:
      description: Describes an address
      type: object
      properties:
        door:
          type: string
          description: Door / Shop number of the address
        name:
          type: string
          description: Name of address if applicable. Example, shop name
        building:
          type: string
          description: Name of the building or block
        street:
          type: string
          description: Street name or number
        locality:
          type: string
          description: Name of the locality, apartments
        ward:
          type: string
          description: Name or number of the ward if applicable
        city:
          type: string
          description: City name
        state:
          type: string
          description: State name
        country:
          type: string
          description: Country name
        area_code:
          type: string
          description: Area code. This can be Pincode, ZIP code or any equivalent
    Agent:
      description: Describes an order executor
      allOf:
        - "$ref": "#/components/schemas/Person"
        - "$ref": "#/components/schemas/Contact"
        - type: object
    Billing:
      description: Describes a billing event
      type: object
      properties:
        name:
          description: Personal details of the customer needed for billing.
          type: string
        organization:
          "$ref": "#/components/schemas/Organization"
        address:
          "$ref": "#/components/schemas/Address"
        email:
          type: string
          format: email
        phone:
          type: string
        time:
          "$ref": "#/components/schemas/Time"
        tax_number:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
        - name
        - phone
    Catalog:
      description: Describes a DHP-Provider catalog
      type: object
      properties:
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        categories:
          type: array
          items:
            "$ref": "#/components/schemas/Category"
        fulfillments:
          type: array
          items:
            "$ref": "#/components/schemas/Fulfillment"
        payments:
          type: array
          items:
            "$ref": "#/components/schemas/Payment"
        providers:
          type: array
          items:
            "$ref": "#/components/schemas/Provider"
        exp:
          type: string
          description: Time after which catalog has to be refreshed
          format: date-time
    Category:
      description: Describes a category
      type: object
      properties:
        id:
          type: string
          description: Unique id of the category
        parent_category_id:
          "$ref": "#/components/schemas/Category/properties/id"
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        time:
          "$ref": "#/components/schemas/Time"
        tags:
          "$ref": "#/components/schemas/Tags"
    City:
      description: Describes a city
      type: object
      properties:
        name:
          type: string
          description: Name of the city
        code:
          type: string
          description: City code
    Contact:
      type: object
      properties:
        phone:
          type: string
        email:
          type: string
        tags:
          "$ref": "#/components/schemas/Tags"
    Context:
      description: Describes a DHP message context
      type: object
      properties:
        domain:
          "$ref": "#/components/schemas/Domain"
        country:
          "$ref": "#/components/schemas/Country/properties/code"
        city:
          "$ref": "#/components/schemas/City/properties/code"
        action:
          type: string
          description: Defines the DHP API call. Any actions other than the enumerated
            actions are not supported by DHP Protocol
          enum:
            - search
            - select
            - init
            - confirm
            - status
            - on_search
            - on_select
            - on_init
            - on_confirm
            - on_status
        core_version:
          type: string
          description: Version of DHP core API specification being used
        consumer_id:
          type: string
          format: uri
          description: Unique id of the Consumer. By default it is the fully qualified
            domain name of the Consumer
        consumer_uri:
          type: string
          format: uri
          description: URI of the Consumer for accepting callbacks. Must have the
            same domain name as the consumer_id
        provider_id:
          type: string
          format: uri
          description: Unique id of the Provider. By default it is the fully qualified
            domain name of the Provider
        provider_uri:
          type: string
          format: uri
          description: URI of the Provider. Must have the same domain name as the
            provider_id
        transaction_id:
          type: string
          description: This is a unique value which persists across all API calls
            from search through confirm
        message_id:
          type: string
          description: This is a unique value which persists during a request / callback
            cycle
        timestamp:
          type: string
          format: date-time
          description: Time of request generation in RFC3339 format
        key:
          type: string
          description: The encryption public key of the sender
        ttl:
          type: string
          description: The duration in ISO8601 format after timestamp for which this
            message holds valid
      required:
        - domain
        - action
        - country
        - city
        - core_version
        - transaction_id
        - message_id
        - consumer_id
        - consumer_uri
        - timestamp
    Country:
      description: Describes a country.
      type: object
      properties:
        name:
          type: string
          description: Name of the country
        code:
          type: string
          description: Country code as per ISO 3166-1 and ISO 3166-2 format
    DecimalValue:
      description: Describes a decimal value
      type: string
      pattern: "[+-]?([0-9]*[.])?[0-9]+"
    Descriptor:
      description: Describes the description of a real-world object.
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        symbol:
          type: string
        short_desc:
          type: string
        long_desc:
          type: string
        images:
          type: array
          items:
            "$ref": "#/components/schemas/Image"
        audio:
          type: string
          format: uri
        3d_render:
          type: string
          format: uri
    Domain:
      description: Describes the domain of an object
      type: string
    Duration:
      description: Describes duration as per ISO8601 format
      type: string
    Error:
      title: Error
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        path:
          type: string
        type:
          type: string
    Fulfillment:
      description: Describes how a single product/service will be rendered/fulfilled
        to the end customer
      type: object
      properties:
        id:
          type: string
          description: Unique reference ID to the fulfillment of an order
        type:
          type: string
          description: This describes the type of fulfillment
        provider_id:
          "$ref": "#/components/schemas/Provider/properties/id"
        state:
          "$ref": "#/components/schemas/State"
        tracking:
          type: boolean
          description: Indicates whether the fulfillment allows tracking
          default: false
        customer:
          type: object
          properties:
            person:
              "$ref": "#/components/schemas/Person"
            contact:
              "$ref": "#/components/schemas/Contact"
        agent:
          "$ref": "#/components/schemas/Agent"
        person:
          "$ref": "#/components/schemas/Person"
        contact:
          "$ref": "#/components/schemas/Contact"
        start:
          description: Details on the start of fulfillment
          type: object
          properties:
            time:
              "$ref": "#/components/schemas/Time"
            instructions:
              "$ref": "#/components/schemas/Descriptor"
            contact:
              "$ref": "#/components/schemas/Contact"
            person:
              "$ref": "#/components/schemas/Person"
        end:
          description: Details on the end of fulfillment
          type: object
          properties:
            time:
              "$ref": "#/components/schemas/Time"
            instructions:
              "$ref": "#/components/schemas/Descriptor"
            contact:
              "$ref": "#/components/schemas/Contact"
            person:
              "$ref": "#/components/schemas/Person"
        tags:
          "$ref": "#/components/schemas/Tags"
    Image:
      description: Image of an object. <br/><br/> A url based image will look like
        <br/><br/>```uri:http://path/to/image``` <br/><br/>
      type: string
    Intent:
      description: Intent of a user. Used for searching for services
      type: object
      properties:
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        provider:
          "$ref": "#/components/schemas/Provider"
        fulfillment:
          "$ref": "#/components/schemas/Fulfillment"
        payment:
          "$ref": "#/components/schemas/Payment"
        category:
          "$ref": "#/components/schemas/Category"
        item:
          "$ref": "#/components/schemas/Item"
        tags:
          "$ref": "#/components/schemas/Tags"
    ItemQuantity:
      description: Describes count or amount of an item
      type: object
      properties:
        allocated:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              "$ref": "#/components/schemas/Scalar"
        available:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              "$ref": "#/components/schemas/Scalar"
        maximum:
          type: object
          properties:
            count:
              type: integer
              minimum: 1
            measure:
              "$ref": "#/components/schemas/Scalar"
        minimum:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              "$ref": "#/components/schemas/Scalar"
        selected:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              "$ref": "#/components/schemas/Scalar"
    Item:
      description: Describes an item. Allows for domain extension.
      type: object
      properties:
        id:
          description: This is the most unique identifier of a service item. An example
            of an Item ID could be the SKU of a product.
          type: string
          format: "#/components/schemas/Item/properties/id"
        parent_item_id:
          "$ref": "#/components/schemas/Item/properties/id"
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        price:
          "$ref": "#/components/schemas/Price"
        category_id:
          "$ref": "#/components/schemas/Category/properties/id"
        fulfillment_id:
          "$ref": "#/components/schemas/Fulfillment/properties/id"
        time:
          "$ref": "#/components/schemas/Time"
        matched:
          type: boolean
        related:
          type: boolean
        recommended:
          type: boolean
        tags:
          "$ref": "#/components/schemas/Tags"
    Language:
      description: indicates language code. DHP supports country codes as per ISO
        639.2 standard
      type: object
      properties:
        code:
          type: string
    MessageAck:
      title: MessageAck
      type: object
      properties:
        ack:
          "$ref": "#/components/schemas/Ack"
    Name:
      type: string
      description: 'Describes the name of a person in format: ./{given_name}/{honorific_prefix}/{first_name}/{middle_name}/{last_name}/{honorific_suffix}'
      pattern: "^\\./[^/]+/[^/]*/[^/]*/[^/]*/[^/]*/[^/]*$"
    Order:
      description: Describes the details of an order
      type: object
      properties:
        id:
          type: string
          description: Hash of order object without id
        state:
          type: string
        provider:
          type: object
          properties:
            id:
              "$ref": "#/components/schemas/Provider/properties/id"
        items:
          type: array
          items:
            type: object
            properties:
              id:
                "$ref": "#/components/schemas/Item/properties/id"
              quantity:
                "$ref": "#/components/schemas/ItemQuantity/properties/selected"
            required:
              - id
        billing:
          "$ref": "#/components/schemas/Billing"
        fulfillment:
          "$ref": "#/components/schemas/Fulfillment"
        quote:
          "$ref": "#/components/schemas/Quotation"
        payment:
          "$ref": "#/components/schemas/Payment"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Organization:
      description: Describes an organization
      type: object
      properties:
        name:
          type: string
        cred:
          type: string
    Page:
      description: Describes a page in a search result
      type: object
      properties:
        id:
          type: string
        next_id:
          type: string
    Payment:
      description: Describes a payment
      type: object
      properties:
        uri:
          type: string
          description: A payment target uri to be called by the DHP-Consumer. Supported
            formats are <br></br>a) https and, <br></br>b) payto - Refer to RFC8905
          format: uri
        tl_method:
          type: string
          enum:
            - https
            - payto
        params:
          type: object
          properties:
            transaction_id:
              type: string
              description: This value will be placed in the the $transaction_id url
                param in case of http/get and in the requestBody http/post requests
            transaction_status:
              type: string
            amount:
              "$ref": "#/components/schemas/Price/properties/value"
            currency:
              "$ref": "#/components/schemas/Price/properties/currency"
          additionalProperties:
            type: string
          required:
            - currency
        type:
          type: string
          description: Stage at which the payment is expected
          enum:
            - ON-ORDER
            - PRE-FULFILLMENT
            - ON-FULFILLMENT
            - POST-FULFILLMENT
        status:
          type: string
          enum:
            - PAID
            - NOT-PAID
        time:
          "$ref": "#/components/schemas/Time"
    Person:
      description: Describes a person.
      type: object
      properties:
        id:
          type: string
        name:
          "$ref": "#/components/schemas/Name"
        image:
          "$ref": "#/components/schemas/Image"
        dob:
          type: string
          format: date
        gender:
          type: string
          description: Gender of something, typically a Person, but possibly also
            fictional characters, animals, etc. While Male and Female may be used,
            text strings are also acceptable for people who do not identify as a binary
            gender
        cred:
          type: string
        tags:
          "$ref": "#/components/schemas/Tags"
      required:
        - name
    Policy:
      description: Describes a policy. Allows for domain extension.
      type: object
      properties:
        id:
          type: string
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        parent_policy_id:
          "$ref": "#/components/schemas/Policy/properties/id"
        time:
          "$ref": "#/components/schemas/Time"
    Price:
      description: Describes the price of an item. Allows for domain extension.
      type: object
      properties:
        currency:
          type: string
        value:
          "$ref": "#/components/schemas/DecimalValue"
        estimated_value:
          "$ref": "#/components/schemas/DecimalValue"
        computed_value:
          "$ref": "#/components/schemas/DecimalValue"
        listed_value:
          "$ref": "#/components/schemas/DecimalValue"
        offered_value:
          "$ref": "#/components/schemas/DecimalValue"
        minimum_value:
          "$ref": "#/components/schemas/DecimalValue"
        maximum_value:
          "$ref": "#/components/schemas/DecimalValue"
    Provider:
      description: Describes a service provider. This can be a restaurant, a hospital,
        a Store etc
      type: object
      properties:
        id:
          type: string
          description: Id of the provider
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        category_id:
          type: string
          description: Category Id of the provider
        time:
          "$ref": "#/components/schemas/Time"
        categories:
          type: array
          items:
            "$ref": "#/components/schemas/Category"
        fulfillments:
          type: array
          items:
            "$ref": "#/components/schemas/Fulfillment"
        payments:
          type: array
          items:
            "$ref": "#/components/schemas/Payment"
        items:
          type: array
          items:
            "$ref": "#/components/schemas/Item"
        exp:
          type: string
          description: Time after which catalog has to be refreshed
          format: date-time
        tags:
          "$ref": "#/components/schemas/Tags"
    Quotation:
      description: Describes a quote
      type: object
      properties:
        price:
          "$ref": "#/components/schemas/Price"
        breakup:
          type: array
          items:
            type: object
            properties:
              title:
                type: string
              price:
                "$ref": "#/components/schemas/Price"
        ttl:
          "$ref": "#/components/schemas/Duration"
    Response:
      title: Response
      type: object
      properties:
        error:
          "$ref": "#/components/schemas/Error"
        message:
          "$ref": "#/components/schemas/MessageAck"
    Scalar:
      description: An object representing a scalar quantity.
      type: object
      properties:
        type:
          type: string
          enum:
            - CONSTANT
            - VARIABLE
        value:
          type: number
        estimated_value:
          type: number
        computed_value:
          type: number
        range:
          type: object
          properties:
            min:
              type: number
            max:
              type: number
        unit:
          type: string
      required:
        - value
        - unit
    Schedule:
      description: Describes a schedule
      type: object
      properties:
        frequency:
          "$ref": "#/components/schemas/Duration"
        holidays:
          type: array
          items:
            type: string
            format: date-time
        times:
          type: array
          items:
            type: string
            format: date-time
    State:
      description: Describes a state
      type: object
      properties:
        descriptor:
          "$ref": "#/components/schemas/Descriptor"
        updated_at:
          type: string
          format: date-time
        updated_by:
          type: string
          description: ID of entity which changed the state
    Subscriber:
      type: object
      description: Any entity which wants to authenticate itself on a network. This
        can be a DHP-Consumer, DHP-Provider, DG.
      properties:
        subscriber_id:
          type: string
          description: Registered domain name of the subscriber. Must have a valid
            SSL certificate issued by a Certificate Authority of the operating region
        type:
          type: string
          enum:
            - consumer
            - provider
            - gateway
        cb_url:
          type: string
          description: Callback URL of the subscriber. The Registry will call this
            URL's on_subscribe API to validate the subscriber\'s credentials
        domain:
          "$ref": "#/components/schemas/Domain"
        city:
          "$ref": "#/components/schemas/City/properties/code"
        country:
          "$ref": "#/components/schemas/Country/properties/code"
        signing_public_key:
          type: string
          description: Signing Public key of the subscriber. <br/><br/>Any subscriber
            platform (dhp_consumer, dhp_provider, dg) who wants to transact on the
            network must digitally sign the ```requestBody``` using the corresponding
            private key of this public key and send it in the transport layer header.
            In case of ```HTTP``` it is the ```Authorization``` header. <br><br/>The
            ```Authorization``` will be used to validate the signature of a dhp_consumer
            or dhp_provider.<br/><br/>Furthermore, if an API call is being proxied
            or multicast by a DHP Gateway, the BG must use it\'s signing key to digitally
            sign the ```requestBody``` using the corresponding private key of this
            public key and send it in the ```Proxy-Authorization``` header.
        encryption_public_key:
          type: string
          description: Encryption public key of the dhp_consumer subscriber. Any dhp_provider
            must encrypt the ```requestBody.message``` value of the ```on_search```
            API using this public key.
        status:
          type: string
          enum:
            - INITIATED
            - UNDER_SUBSCRIPTION
            - SUBSCRIBED
            - INVALID_SSL
            - UNSUBSCRIBED
        created:
          type: string
          description: Timestamp when a subscriber was added to the registry with
            status = INITIATED
          format: date-time
        updated:
          type: string
          format: date-time
        expires:
          type: string
          description: Expiry timestamp in UTC derived from the ```lease_time``` of
            the subscriber
          format: date-time
    Tags:
      description: Describes a tag. This is a simple key-value store which is used
        to contain read-only metadata
      additionalProperties:
        type: string
    Time:
      description: Describes time in its various forms. It can be a single point in
        time; duration; or a structured timetable of operations
      type: object
      properties:
        label:
          type: string
        timestamp:
          type: string
          format: date-time
        duration:
          "$ref": "#/components/schemas/Duration"
        range:
          type: object
          properties:
            start:
              type: string
              format: date-time
            end:
              type: string
              format: date-time
        days:
          type: string
          description: comma separated values representing days of the week
        schedule:
          "$ref": "#/components/schemas/Schedule"
    Ack:
      title: Ack
      type: object
      properties:
        status:
          type: string
    ErrorResponse:
      title: ErrorResponse
      type: object
      properties:
        code:
          type: string
        errorString:
          type: string
        path:
          type: string
    MessagesDTO:
      title: MessagesDTO
      type: object
      properties:
        contentId:
          type: string
        contentValue:
          type: string
        error:
          "$ref": "#/components/schemas/ErrorResponse"
        image:
          type: string
        receiver:
          type: string
        sender:
          type: string
        time:
          type: string
        userName:
          type: string
    Chat:
      title: Chat
      type: object
      properties:
        content:
          $ref: '#/components/schemas/Content'
        receiver:
          $ref: '#/components/schemas/Receiver'
        sender:
          $ref: '#/components/schemas/Sender'
        time:
          $ref: '#/components/schemas/Time'
    Content:
      title: Content
      type: object
      properties:
        content_id:
          type: string
        content_value:
          type: string

    Intent2:
      title: Intent
      type: object
      properties:
        chat:
          $ref: '#/components/schemas/Chat'
    Message:
      title: Message
      type: object
      properties:
        intent:
          $ref: '#/components/schemas/Intent2'
    Person2:
      title: Person
      type: object
      properties:
        cred:
          type: string
        image:
          type: string
        name:
          type: string
    Receiver:
      title: Receiver
      type: object
      properties:
        person:
          $ref: '#/components/schemas/Person2'

    Root:
      title: Root
      type: object
      properties:
        context:
          $ref: '#/components/schemas/Context'
        message:
          $ref: '#/components/schemas/Message'
    Sender:
      title: Sender
      type: object
      properties:
        person:
          $ref: '#/components/schemas/Person'