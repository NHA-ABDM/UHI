openapi: 3.0.3
x-stoplight:
  id: 2beoqqsexb2wu
info:
  title: HSPA - Provider Platform
  description: |-
    UHI(Unified Health Interface) is envisioned as an open protocol for various digital health services. UHI Network will be an open network of End User Applications (EUAs) and participating Health Service Provider (HSP) applications. UHI will enable a wide variety of digital health services between patients and health service providers (HSPs) including appointment booking, teleconsultation, service discovery and others.<br>
    <p><b>HSPA Signing</b> <br>The EUAs and HSPAs subscriber is expected to send an Authorization header (as defined in RFC 7235, Section 4.1) where the “auth-scheme” is “Signature” and the “auth-param” parameters <br> Below is the format of a EUA/HSPA Authorization header in the typical HTTP Signature format - </p>
    <ul><li><p>Authorization:Signature keyId ="{subscriber_id}|{pub_key_id}|{algorithm}" algorithm="ed25519" created="1606970629" expires="1607030629" headers="(created) (expires) digest" signature="Base64(BLAKE-512(signing string))"</p> <p>Follow this link for the signing header generation process code - <a href ="https://github.com/NHA-ABDM/UHI/blob/Group-consultation/src/gateway/Discovery/src/main/java/in/gov/abdm/uhi/discovery/security/Crypt.java">Crypt</a></p></li>
    <li><p>also please find the link for header generation utility tool to generate key value pairs and header - <a href ="https://github.com/NHA-ABDM/UHI/tree/main/header_generator_utility">Header Generation Utility</a></p></li></ul>
    <b>API Security</b><br> You need Authorization Token to consume APIs. <br/><br/><b>HSPA Verification</b> <br>The UHI Gateway/HSPAs' will send its signature in the Proxy-Authorization header in the exact same format as shown below - <ul><li><p>X-Gateway-Authorization:Signature keyId="{subscriber_id}|{pub_key_id}|{algorithm}" algorithm="ed25519" created="1606970629" expires="1607030629" headers="(created) (expires) digest" signature="Base64(BLAKE-512(signing string))"</p></li></ul>


    <p><b>Hashing Algorithm</b><br> For computing the digest of the request body, the hashing function will use the BLAKE-512 hashing algorithm. BLAKE is a cryptographic hash function based on Dan Bernstein’s ChaCha stream cipher.<br></p>
    <p><b>Signing Algorithm</b><br> To digitally sign the singing string, the subscribers should use the “Ed25519” signature scheme . For the first version of UHI gateway, we’ll be using the Ed25519 Signature Scheme.<br></p>
  termsOfService: termsOfServiceUrl
  contact:
    name: National Health Authority India
  license:
    name: License 1.0
    url: 'https://licenseUrl.com'
  version: 1.0.0
paths:
  /api/v1/search:
    post:
      tags:
        - HSPA - Provider Platform
      description: Search for services by intent<br> <b><i>First search coming from UHI gateway will include header(X-Gateway-Authorization)<br> Second search will be a peer to peer connection and will not contain the header(X-Gateway-Authorization)</i></b>
      requestBody:
        description: EUA-Consumer Platform searches for healthcare services/product<br>
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    intent:
                      $ref: '#/components/schemas/Intent'
              required:
                - context
                - message
            examples:
              Search doctor by speciality(Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        type: Online
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search doctor by name and speciality (Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        agent:
                          name: ganesh
                        type: Online
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by Doctor and facility (Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      provider:
                        descriptor:
                          name: Test Hospital
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        agent:
                          name: ganesh
                        type: Online
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by provider facility and specialty (Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      provider:
                        descriptor:
                          name: Test Hospital
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        type: Online
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by HPR Address (Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                    timestamp: '2022-11-14T07:20:54.005277Z'
                    transaction_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                  message:
                    intent:
                      fulfillment:
                        agent:
                          id: ganeshborse@hpr.ndhm
                        start:
                          time:
                            timestamp: '2022-07-22T13:21:41'
                        end:
                          time:
                            timestamp: '2022-07-22T23:59:59'
                        type: Online
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by Doctor Name(Teleconsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
                      fulfillment:
                        agent:
                          name: ganesh
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                        type: Online
              Search doctor by speciality (PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        type: Physical
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search doctor by name and speciality(PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        agent:
                          name: ganesh
                        type: Physical
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by Doctor and facility (PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      provider:
                        descriptor:
                          name: Test Hospital
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        agent:
                          name: ganesh
                        type: Physical
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by provider facility and specialty (PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      provider:
                        descriptor:
                          name: Test Hospital
                      category:
                        descriptor:
                          code: CARDIOLOGY
                          name: CARDIOLOGY
                      fulfillment:
                        type: Physical
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by HPR Address (PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                    timestamp: '2022-11-14T07:20:54.005277Z'
                    transaction_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                  message:
                    intent:
                      fulfillment:
                        agent:
                          id: ganeshborse@hpr.ndhm
                        start:
                          time:
                            timestamp: '2022-07-22T13:21:41'
                        end:
                          time:
                            timestamp: '2022-07-22T23:59:59'
                        type: Physical
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
              Search by Doctor Name(PhysicalConsultation):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      item:
                        descriptor:
                          code: Consultation
                          name: Consultation
                      fulfillment:
                        agent:
                          name: ganesh
                        start:
                          time:
                            timestamp: '2022-07-15T00:00:00'
                        end:
                          time:
                            timestamp: '2022-07-16T00:00:00'
                        type: Physical
              Second search (HPR Address):
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: search
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    provider_id: hspa-nha
                    provider_uri: 'https://hspasbx.abdm.gov.in/api/v1'
                    message_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                    timestamp: '2022-11-14T07:20:54.005277Z'
                    transaction_id: dfa04e10-63ec-11ed-9f98-49dd5c7c4d8a
                  message:
                    intent:
                      provider:
                        id: '1'
                        categories:
                          - id: 0
                            parent_category_id: '1'
                            descriptor:
                              code: CARDIOLOGY
                              name: CARDIOLOGY
                          - id: '1'
                            descriptor:
                              code: ALLOPATHY
                              name: ALLOPATHY
                        fulfillments:
                          - agent:
                              id: ganeshborse@hpr.abdm
                              name: Ganesh Vikram Borse
                              gender: M
                              tags:
                                '@abdm/gov/in/experience': '10.0'
                                '@abdm/gov/in/languages': 'Hindi, English'
                                '@abdm/gov/in/education': 'MBBS, BDS'
                                '@abdm/gov/in/hpr_id': 73-5232-1888-8686
                            start:
                              time:
                                timestamp: '2022-07-22T13:21:41'
                            end:
                              time:
                                timestamp: '2022-07-22T23:59:59'
                            type: Online
                        items:
                          - category_id: '0'
                            fulfillment_id: '1'
                            price:
                              currency: INR
                              value: '0.0'
                            descriptor:
                              code: Consultation
                              name: Consultation
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
      parameters:
        - schema:
            type: string
          in: header
          name: X-Gateway-Authorization
          description: uhi
    parameters: []
  /api/v1/select:
    post:
      tags:
        - HSPA - Provider Platform
      description: Select items from the catalog and build your order <br> <b><i>*Currently not being used for doctor search will be used in vaccination search</i></b>
      requestBody:
        description: Selection of various products/services as part of order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: '#/components/schemas/Provider/properties/id'
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: '#/components/schemas/Item/properties/id'
                              quantity:
                                $ref: '#/components/schemas/ItemQuantity/properties/selected'
                              fulfillment_id:
                                $ref: '#/components/schemas/Fulfillment/properties/id'
                            required:
                              - id
                  required:
                    - order
              required:
                - context
                - message
            examples:
              Patient requests a quote for booking a consultation slot in a given doctor’s schedule:
                value:
                  context:
                    domain: 'nic2004:85110'
                    country: IND
                    city: 'std:080'
                    action: select
                    core_version: 0.7.1
                    message_id: 85a422c4-2867-4d72-b5f5-d31588e2f7c5
                    timestamp: '2021-03-23T10:00:40.065Z'
                  message:
                    order:
                      provider:
                        id: '1'
                      items:
                        - id: '1'
                          fulfillment_id: '2'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
    parameters: []
  /api/v1/init:
    post:
      tags:
        - HSPA - Provider Platform
      description: Initialize an order by providing billing and/or shipping details<br>
      requestBody:
        description: Initialization of the order once quote is agreed
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: '#/components/schemas/Provider/properties/id'
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: '#/components/schemas/Item/properties/id'
                              quantity:
                                $ref: '#/components/schemas/ItemQuantity/properties/selected'
                              fulfillment_id:
                                $ref: '#/components/schemas/Fulfillment/properties/id'
                            required:
                              - id
                        billing:
                          $ref: '#/components/schemas/Billing'
                        fulfillment:
                          $ref: '#/components/schemas/Fulfillment'
                        quote:
                          $ref: '#/components/schemas/Quotation'
                  required:
                    - order
              required:
                - context
                - message
            examples:
              Patient provides any additional billing and fulfillment details and finalizes booking:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: init
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://100.65.158.41:8901/api/v1/euaService'
                    message_id: 559667a0-6576-11ed-83d2-db6676a4d91e
                    timestamp: '2022-11-20T06:17:34.858358Z'
                    provider_uri: 'https://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: 559667a0-6576-11ed-83d2-db6676a4d91e
                  message:
                    order:
                      provider:
                        id: '1'
                      item:
                        id: '0'
                        descriptor:
                          code: Consultation
                          name: Consultation
                        price:
                          currency: INR
                          value: '500.0'
                      fulfillment:
                        id: 4fb27b0d-5dfa-4854-9f46-1cd85be0d98e
                        type: Online
                        agent:
                          id: satish123@hpr.ndhm
                          name: Satish Udhavrao Chonde
                          gender: M
                          tags:
                            '@abdm/gov/in/education': MBBS
                            '@abdm/gov/in/experience': '10.0'
                            '@abdm/gov/in/languages': 'Hindi, Marathi, English'
                            '@abdm/gov/in/hpr_id': 71-4453-8853-6840
                            '@abdm/gov.in/groupConsultation': 'false'
                        start:
                          time:
                            timestamp: '2022-11-16T12:00:00'
                        end:
                          time:
                            timestamp: '2022-11-16T12:30:00'
                      billing:
                        name: Satish Udhavrao Chonde
                        address:
                          door: ''
                          name: Satish Udhavrao Chonde
                          locality: C/O Udhavrao Chonde At abhinav nagar kandhar po kandhar tq kandhar Kandhar
                          city: Nanded
                          state: Maharashtra
                          country: INDIA
                        phone: '9511225358'
                      customer:
                        person:
                          gender: M
                          dob: '2022-11-21'
                          dayOfBirth: 21
                          monthOfBirth: 11
                          yearOfBirth: 2022
                        id: satishc661994@sbx
                      payment:
                        params:
                          redirect_url: www.callmyeua.com/payment/done? transaction_id=1& order_id=1& order_status=success& payment_status=success
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
    parameters: []
  /api/v1/confirm:
    post:
      tags:
        - HSPA - Provider Platform
      description: Confirms the order by agreeing to the fullfillment terms
      requestBody:
        description: Confirmation of the order once fulfillment terms are agreed <br>
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: '#/components/schemas/Provider/properties/id'
                        state:
                          $ref: '#/components/schemas/State'
                        items:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: '#/components/schemas/Item/properties/id'
                              quantity:
                                $ref: '#/components/schemas/ItemQuantity/properties/selected'
                              fulfillment_id:
                                $ref: '#/components/schemas/Fulfillment/properties/id'
                            required:
                              - id
                        billing:
                          $ref: '#/components/schemas/Billing'
                        fulfillment:
                          $ref: '#/components/schemas/Fulfillment'
                  required:
                    - order
              required:
                - context
                - message
            examples:
              Confirm request for the order:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: confirm
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://100.65.158.41:8901/api/v1/euaService'
                    message_id: 27d06780-59dc-11ed-b4f7-1714b7644c84
                    timestamp: '2022-11-05T12:05:27'
                    provider_id: hspa-nha
                    provider_uri: 'https://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: 27d06780-59dc-11ed-b4f7-1714b7644c84
                  message:
                    order:
                      id: 8441-696786-1042
                      item:
                        id: '0'
                        descriptor:
                          code: Consultation
                          name: Consultation
                      fulfillment:
                        id: 1479e965-52d0-4b19-8615-dde81e45432a
                        type: Online
                        agent:
                          id: ganeshborse@hpr.ndhm
                          name: Ganesh Vikram Borse
                          gender: M
                          tags:
                            '@abdm/gov/in/education': MBBS
                            '@abdm/gov/in/experience': '5.0'
                            '@abdm/gov/in/languages': 'Eng, Hin'
                            '@abdm/gov/in/hpr_id': 73-5232-1888-8686
                            '@abdm/gov.in/groupConsultation': 'false'
                        start:
                          time:
                            timestamp: '2022-11-01T18:30:00'
                        end:
                          time:
                            timestamp: '2022-11-01T19:00:00'
                      billing:
                        name: Vishal Umakant Swami
                        address:
                          door: ''
                          name: C/O Umakant Swami someshwar nagar Parli
                          locality: ''
                          state: Maharashtra
                          country: INDIA
                          area_code: '431515'
                        email: vswami241@gmail.com
                        phone: '7721043046'
                      quote:
                        price:
                          currency: INR
                          value: '300.0'
                        breakup:
                          - title: Consultation
                            price:
                              currency: INR
                              value: '300.0'
                          - title: CGST @ 5%
                            price:
                              currency: INR
                              value: '0'
                          - title: SGST @ 5%
                            price:
                              currency: INR
                              value: '0'
                          - title: Registration
                            price:
                              currency: INR
                              value: '0'
                      payment:
                        uri: 'https://api.bpp.com/pay?amt=1500&txn_id=ksh87yriuro34iyr3p4&mode=upi&vpa=sana.bhatt@upi'
                        tl_method: http/get
                        params:
                          amount: '300.0'
                          mode: UPI
                          vpa: ganeshvborse@icici
                          transaction_id: ''
                          redirect_url: www.callmyeua.com/payment/done? transaction_id=1& order_id=1& order_status=success& payment_status=success
                        type: ON-ORDER
                        status: PAID
                      customer:
                        person:
                          gender: M
                          dob: '2022-11-21'
                          dayOfBirth: 21
                          monthOfBirth: 11
                          yearOfBirth: 2022
                        id: satishc661994@sbx
                      provider:
                        id: '1'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
    parameters: []
  /api/v1/cancel:
    post:
      tags:
        - HSPA - Provider Platform
      description: Sends the cancellation request to other party.
      requestBody:
        description: Describes the contents of the message
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              Cancel for patient cancelling appointment:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: cancel
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    order:
                      id: 8441-696786-1042
                      state: CANCELLED
                      fulfillment:
                        tags:
                          '@abdm/gov.in/cancelledby': patient
              Cancel for doctor cancelling appointment:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: cancel
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    order:
                      id: 8441-696786-1042
                      state: CANCELLED
                      fulfillment:
                        tags:
                          '@abdm/gov.in/cancelledby': doctor
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
    parameters: []
  /api/v1/status:
    post:
      tags:
        - HSPA - Provider Platform
      description: Requests current status of the order.
      requestBody:
        description: Describes the contents of the message
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              Get the current status:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: status
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    order:
                      id: 8441-696786-1042
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
    parameters: []
  /api/v1/message:
    post:
      tags:
        - HSPA - Provider Platform
      description: Requests current status of the order.
      requestBody:
        description: Describes the contents of the message
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              VideoCallSignalling:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: message
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35.481906Z'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            name: Akshay Dadaji Dhondge
                            gender: M
                            image: Image hashed base64
                            id: akshaydhondge@sbx
                        receiver:
                          person:
                            name: Ganesh Vikram Borse
                            gender: M
                            image: image
                            id: ganeshborse@hpr.ndhm
                        content:
                          content_id: 52216af0-42e1-11ed-a4b6-873d4ad3e26c
                          content_value: '{"type":"CANDIDATE","data":{"to":"ganeshborse@hpr.ndhm","from":"","candidate":{"sdpMLineIndex":0,"sdpMid":"0","candidate":"candidate:1355446498 1 udp 25108223 216.39.253.10 40045 typ relay raddr 103.177.129.21 rport 56294 generation 0 ufrag rlf3 network-id 1 network-cost 10"},"session_id":"ganeshborse@hpr.ndhm-akshaydhondge@sbx"}}'
                          content_type: video_call_signalling
                        time:
                          timestamp: '2022-10-03T11:35:03'
              Text Message:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: message
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35.481906Z'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            name: Manish Pravin Kahane
                            gender: M
                            image: image hashed base64
                            id: manishkahane1992@sbx
                        receiver:
                          person:
                            name: Santosh Ramchandra Jagtap
                            gender: M
                            image: image
                            id: santoshjagtap@hpr.ndhm
                        content:
                          content_id: e616e100-42e0-11ed-b5d7-51ae9d37b46f
                          content_value: Base64 Encoded text
                          content_type: text
                        time:
                          timestamp: '2022-10-03T11:32:01'
              Media:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: message
                    timestamp: '2022-12-21T06:49:52.277810Z'
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'https://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    provider_uri: 'https://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: 701849e0-80fb-11ed-9ec4-ad34dfc6d97d
                    message_id: ab9e0540-80fb-11ed-a93f-b154638abb93
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            id: swanand@sbx
                            name: Swanand Marathe
                            gender: M
                            image: image
                        receiver:
                          person:
                            id: ganeshborse@hpr.ndhm
                            name: Ganesh Vikram Borse
                            gender: M
                            image: image
                        content:
                          content_id: ab9e0540-80fb-11ed-a93f-b154638abb93
                          content_value: base64 encoded image
                          content_type: media
                          content_mimeType: image/jpeg
                          content_fileName: scaled_fe3b93ce-e298-4e15-96dd-aac3de9ffa2e5191283867204378535.jpg
                        time:
                          timestamp: '2022-12-21T12:19:52'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
              examples:
                Example 1:
                  value:
                    message:
                      ack:
                        ack: {}
                    error:
                      type: string
                      code: string
                      path: string
                      message: string
    parameters: []
  /api/v1/on_message:
    post:
      tags:
        - HSPA - Provider Platform
      description: Requests current status of the order.
      requestBody:
        description: Describes the contents of the message
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              VideoCallSignalling:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: on_message
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35.481906Z'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            name: Akshay Dadaji Dhondge
                            gender: M
                            image: Image hashed base64
                            id: akshaydhondge@sbx
                        receiver:
                          person:
                            name: Ganesh Vikram Borse
                            gender: M
                            image: image
                            id: ganeshborse@hpr.ndhm
                        content:
                          content_id: 52216af0-42e1-11ed-a4b6-873d4ad3e26c
                          content_value: '{"type":"CANDIDATE","data":{"to":"ganeshborse@hpr.ndhm","from":"","candidate":{"sdpMLineIndex":0,"sdpMid":"0","candidate":"candidate:1355446498 1 udp 25108223 216.39.253.10 40045 typ relay raddr 103.177.129.21 rport 56294 generation 0 ufrag rlf3 network-id 1 network-cost 10"},"session_id":"ganeshborse@hpr.ndhm-akshaydhondge@sbx"}}'
                          content_type: video_call_signalling
                        time:
                          timestamp: '2022-10-03T11:35:03'
              Text Message:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: on_message
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'http://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    message_id: e9a19230-f951-11ec-b135-53aea776f66b
                    timestamp: '2022-07-05T15:24:35.481906Z'
                    provider_id: hspa-nha
                    provider_uri: 'http://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: e9a19230-f951-11ec-b135-53aea776f66b
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            name: Manish Pravin Kahane
                            gender: M
                            image: image hashed base64
                            id: manishkahane1992@sbx
                        receiver:
                          person:
                            name: Santosh Ramchandra Jagtap
                            gender: M
                            image: image
                            id: santoshjagtap@hpr.ndhm
                        content:
                          content_id: e616e100-42e0-11ed-b5d7-51ae9d37b46f
                          content_value: Base64 Encoded text
                          content_type: text
                        time:
                          timestamp: '2022-10-03T11:32:01'
              Media:
                value:
                  context:
                    domain: 'nic2004:85111'
                    country: IND
                    city: 'std:080'
                    action: on_message
                    timestamp: '2022-12-21T06:49:52.277810Z'
                    core_version: 0.7.1
                    consumer_id: eua-nha
                    consumer_uri: 'https://uhieuasandbox.abdm.gov.in/api/v1/euaService'
                    provider_uri: 'https://hspasbx.abdm.gov.in/api/v1'
                    transaction_id: 701849e0-80fb-11ed-9ec4-ad34dfc6d97d
                    message_id: ab9e0540-80fb-11ed-a93f-b154638abb93
                  message:
                    intent:
                      chat:
                        sender:
                          person:
                            id: swanand@sbx
                            name: Swanand Marathe
                            gender: M
                            image: image
                        receiver:
                          person:
                            id: ganeshborse@hpr.ndhm
                            name: Ganesh Vikram Borse
                            gender: M
                            image: image
                        content:
                          content_id: ab9e0540-80fb-11ed-a93f-b154638abb93
                          content_value: base64 encoded image
                          content_type: media
                          content_mimeType: image/jpeg
                          content_fileName: scaled_fe3b93ce-e298-4e15-96dd-aac3de9ffa2e5191283867204378535.jpg
                        time:
                          timestamp: '2022-12-21T12:19:52'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
              examples:
                Example 1:
                  value:
                    message:
                      ack:
                        ack: {}
                    error:
                      type: string
                      code: string
                      path: string
                      message: string
    parameters: []
components:
  schemas:
    Ack:
      title: Ack
      type: object
      properties:
        ack:
          $ref: '#/components/schemas/Ack'
    Address:
      description: Describes an address
      type: object
      properties:
        door:
          type: string
          description: Door / Shop number of the address
        name:
          type: string
          description: 'Name of address if applicable. Example, shop name'
        building:
          type: string
          description: Name of the building or block
        street:
          type: string
          description: Street name or number
        locality:
          type: string
          description: 'Name of the locality, apartments'
        ward:
          type: string
          description: Name or number of the ward if applicable
        city:
          type: string
          description: City name
        state:
          type: string
          description: State name
        country:
          type: string
          description: Country name
        area_code:
          type: string
          description: 'Area code. This can be Pincode, ZIP code or any equivalent'
    Agent:
      description: Describes an order executor
      allOf:
        - $ref: '#/components/schemas/Person'
        - $ref: '#/components/schemas/Contact'
        - type: object
    Billing:
      description: Describes a billing event
      type: object
      properties:
        name:
          description: Personal details of the customer needed for billing.
          type: string
        organization:
          $ref: '#/components/schemas/Organization'
        address:
          $ref: '#/components/schemas/Address'
        email:
          type: string
          format: email
        phone:
          type: string
        time:
          $ref: '#/components/schemas/Time'
        tax_number:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
        - name
        - phone
    Catalog:
      description: Describes a DHP-Provider catalog
      type: object
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        categories:
          type: array
          items:
            $ref: '#/components/schemas/Category'
        fulfillments:
          type: array
          items:
            $ref: '#/components/schemas/Fulfillment'
        payments:
          type: array
          items:
            $ref: '#/components/schemas/Payment'
        providers:
          type: array
          items:
            $ref: '#/components/schemas/Provider'
        exp:
          type: string
          description: Time after which catalog has to be refreshed
          format: date-time
    Category:
      description: Describes a category
      type: object
      properties:
        id:
          type: string
          description: Unique id of the category
        parent_category_id:
          $ref: '#/components/schemas/Category/properties/id'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        time:
          $ref: '#/components/schemas/Time'
        tags:
          $ref: '#/components/schemas/Tags'
    City:
      description: Describes a city
      type: object
      properties:
        name:
          type: string
          description: Name of the city
        code:
          type: string
          description: City code
    Contact:
      type: object
      properties:
        phone:
          type: string
        email:
          type: string
        tags:
          $ref: '#/components/schemas/Tags'
    Context:
      description: Describes a DHP message context
      type: object
      properties:
        domain:
          $ref: '#/components/schemas/Domain'
        country:
          $ref: '#/components/schemas/Country/properties/code'
        city:
          $ref: '#/components/schemas/City/properties/code'
        action:
          type: string
          description: Defines the DHP API call. Any actions other than the enumerated actions are not supported by DHP Protocol
          enum:
            - search
            - select
            - init
            - confirm
            - status
            - on_search
            - on_select
            - on_init
            - on_confirm
            - on_status
        core_version:
          type: string
          description: Version of DHP core API specification being used
        consumer_id:
          type: string
          format: uri
          description: Unique id of the Consumer. By default it is the fully qualified domain name of the Consumer
        consumer_uri:
          type: string
          format: uri
          description: URI of the Consumer for accepting callbacks. Must have the same domain name as the consumer_id
        provider_id:
          type: string
          format: uri
          description: Unique id of the Provider. By default it is the fully qualified domain name of the Provider
        provider_uri:
          type: string
          format: uri
          description: URI of the Provider. Must have the same domain name as the provider_id
        transaction_id:
          type: string
          description: This is a unique value which persists across all API calls from search through confirm
        message_id:
          type: string
          description: This is a unique value which persists during a request / callback cycle
        timestamp:
          type: string
          format: date-time
          description: Time of request generation in RFC3339 format
        key:
          type: string
          description: The encryption public key of the sender
        ttl:
          type: string
          description: The duration in ISO8601 format after timestamp for which this message holds valid
      required:
        - domain
        - action
        - country
        - city
        - core_version
        - transaction_id
        - message_id
        - consumer_id
        - consumer_uri
        - timestamp
    Country:
      description: Describes a country.
      type: object
      properties:
        name:
          type: string
          description: Name of the country
        code:
          type: string
          description: Country code as per ISO 3166-1 and ISO 3166-2 format
    Customer:
      type: object
      x-examples:
        Example 1:
          customer:
            person:
              gender: M
              dob: '2022-11-21'
              dayOfBirth: 21
              monthOfBirth: 11
              yearOfBirth: 2022
            id: satishc661994@sbx
      properties:
        customer:
          type: object
          properties:
            person:
              type: object
              properties:
                gender:
                  type: string
                dob:
                  type: string
                dayOfBirth:
                  type: integer
                monthOfBirth:
                  type: integer
                yearOfBirth:
                  type: integer
            id:
              type: string
            cred:
              type: string
            Contact:
              $ref: '#/components/schemas/Contact'
    DecimalValue:
      description: Describes a decimal value
      type: string
      pattern: '[+-]?([0-9]*[.])?[0-9]+'
    Descriptor:
      description: Describes the description of a real-world object.
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        symbol:
          type: string
        short_desc:
          type: string
        long_desc:
          type: string
        images:
          type: array
          items:
            $ref: '#/components/schemas/Image'
        audio:
          type: string
          format: uri
        3d_render:
          type: string
          format: uri
    Domain:
      description: Describes the domain of an object
      type: string
    Duration:
      description: Describes duration as per ISO8601 format
      type: string
    Error:
      description: Describes an error object
      type: object
      properties:
        type:
          type: string
        code:
          type: string
          description: 'DHP specific error code. For full list of error codes, refer to error_codes.md in the root folder of this repo'
        path:
          type: string
          description: Path to json schema generating the error. Used only during json schema validation errors
        message:
          type: string
          description: Human readable message describing the error
      required:
        - type
        - code
    Fulfillment:
      description: Describes how a single product/service will be rendered/fulfilled to the end customer
      type: object
      properties:
        id:
          type: string
          description: Unique reference ID to the fulfillment of an order
        type:
          type: string
          description: This describes the type of fulfillment
        provider_id:
          $ref: '#/components/schemas/Provider/properties/id'
        state:
          $ref: '#/components/schemas/State'
        tracking:
          type: boolean
          description: Indicates whether the fulfillment allows tracking
          default: false
        customer:
          type: object
          properties:
            person:
              $ref: '#/components/schemas/Person'
            contact:
              $ref: '#/components/schemas/Contact'
        agent:
          $ref: '#/components/schemas/Agent'
        person:
          $ref: '#/components/schemas/Person'
        contact:
          $ref: '#/components/schemas/Contact'
        start:
          description: Details on the start of fulfillment
          type: object
          properties:
            time:
              $ref: '#/components/schemas/Time'
            instructions:
              $ref: '#/components/schemas/Descriptor'
            contact:
              $ref: '#/components/schemas/Contact'
            person:
              $ref: '#/components/schemas/Person'
        end:
          description: Details on the end of fulfillment
          type: object
          properties:
            time:
              $ref: '#/components/schemas/Time'
            instructions:
              $ref: '#/components/schemas/Descriptor'
            contact:
              $ref: '#/components/schemas/Contact'
            person:
              $ref: '#/components/schemas/Person'
        tags:
          $ref: '#/components/schemas/Tags'
    Image:
      description: 'Image of an object. <br/><br/> A url based image will look like <br/><br/>```uri:http://path/to/image``` <br/><br/>'
      type: string
    Intent:
      description: Intent of a user. Used for searching for services
      type: object
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        provider:
          $ref: '#/components/schemas/Provider'
        fulfillment:
          $ref: '#/components/schemas/Fulfillment'
        payment:
          $ref: '#/components/schemas/Payment'
        category:
          $ref: '#/components/schemas/Category'
        item:
          $ref: '#/components/schemas/Item'
        tags:
          $ref: '#/components/schemas/Tags'
    Item:
      description: Describes an item. Allows for domain extension.
      type: object
      properties:
        id:
          description: This is the most unique identifier of a service item. An example of an Item ID could be the SKU of a product.
          type: string
          format: '#/components/schemas/Item/properties/id'
        parent_item_id:
          $ref: '#/components/schemas/Item/properties/id'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        price:
          $ref: '#/components/schemas/Price'
        category_id:
          $ref: '#/components/schemas/Category/properties/id'
        fulfillment_id:
          $ref: '#/components/schemas/Fulfillment/properties/id'
        time:
          $ref: '#/components/schemas/Time'
        matched:
          type: boolean
        related:
          type: boolean
        recommended:
          type: boolean
        tags:
          $ref: '#/components/schemas/Tags'
    ItemQuantity:
      description: Describes count or amount of an item
      type: object
      properties:
        allocated:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              $ref: '#/components/schemas/Scalar'
        available:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              $ref: '#/components/schemas/Scalar'
        maximum:
          type: object
          properties:
            count:
              type: integer
              minimum: 1
            measure:
              $ref: '#/components/schemas/Scalar'
        minimum:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              $ref: '#/components/schemas/Scalar'
        selected:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
            measure:
              $ref: '#/components/schemas/Scalar'
    Language:
      description: indicates language code. DHP supports country codes as per ISO 639.2 standard
      type: object
      properties:
        code:
          type: string
    Location:
      type: object
      properties:
        id:
          type: string
        descriptor:
          type: object
          properties:
            name:
              type: string
        city:
          type: object
          properties:
            name:
              type: string
            code:
              type: string
        country:
          type: object
          properties:
            name:
              type: string
            code:
              type: string
        gps:
          type: string
        address:
          type: string
    LookupDto:
      type: object
      description: Look up subscriber(s) in a registry
      required:
        - city
        - country
        - domain
        - status
        - pub_key_id
      properties:
        city:
          type: string
          description: City code
        country:
          type: string
          minLength: 3
          maxLength: 3
          description: Country code as per ISO 3166-1 and ISO 3166-2 format
        domain:
          type: string
          description: Industry domain of the subscriber.
        status:
          type: string
          enum:
            - INITIATED
            - SUBSCRIBED
            - UNSUBSCRIBED)
        pub_key_id:
          type: string
          description: A unique ID describing  public key uniquely on a network.
      title: Lookup
    Message:
      title: Message
      x-stoplight:
        id: dkbfnm5zwj96n
      type: object
      properties:
        intent:
          $ref: '#/components/schemas/Intent'
        order:
          $ref: '#/components/schemas/Order'
        catalog:
          $ref: '#/components/schemas/Catalog'
    Name:
      type: string
      description: 'Describes the name of a person in format: ./{given_name}/{honorific_prefix}/{first_name}/{middle_name}/{last_name}/{honorific_suffix}'
      pattern: '^\./[^/]+/[^/]*/[^/]*/[^/]*/[^/]*/[^/]*$'
    Order:
      description: Describes the details of an order
      type: object
      properties:
        id:
          type: string
          description: Hash of order object without id
        state:
          type: string
        provider:
          type: object
          properties:
            id:
              $ref: '#/components/schemas/Provider/properties/id'
        item:
          $ref: '#/components/schemas/Item'
        billing:
          $ref: '#/components/schemas/Billing'
        fulfillment:
          $ref: '#/components/schemas/Fulfillment'
        quote:
          $ref: '#/components/schemas/Quotation'
        payment:
          $ref: '#/components/schemas/Payment'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        customer:
          $ref: '#/components/schemas/Customer'
    Organization:
      description: Describes an organization
      type: object
      properties:
        name:
          type: string
        cred:
          type: string
    Page:
      description: Describes a page in a search result
      type: object
      properties:
        id:
          type: string
        next_id:
          type: string
    Payment:
      description: Describes a payment
      type: object
      properties:
        uri:
          type: string
          description: 'A payment target uri to be called by the DHP-Consumer. Supported formats are <br></br>a) https and, <br></br>b) payto - Refer to RFC8905'
          format: uri
        tl_method:
          type: string
          enum:
            - https
            - payto
        params:
          type: object
          properties:
            transaction_id:
              type: string
              description: This value will be placed in the the $transaction_id url param in case of http/get and in the requestBody http/post requests
            transaction_status:
              type: string
            amount:
              $ref: '#/components/schemas/Price/properties/value'
            currency:
              $ref: '#/components/schemas/Price/properties/currency'
          additionalProperties:
            type: string
          required:
            - currency
        type:
          type: string
          description: Stage at which the payment is expected
          enum:
            - ON-ORDER
            - PRE-FULFILLMENT
            - ON-FULFILLMENT
            - POST-FULFILLMENT
        status:
          type: string
          enum:
            - PAID
            - NOT-PAID
        time:
          $ref: '#/components/schemas/Time'
    Person:
      description: Describes a person.
      type: object
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/Name'
        image:
          $ref: '#/components/schemas/Image'
        dob:
          type: string
          format: date
        gender:
          type: string
          description: 'Gender of something, typically a Person, but possibly also fictional characters, animals, etc. While Male and Female may be used, text strings are also acceptable for people who do not identify as a binary gender'
        cred:
          type: string
        tags:
          $ref: '#/components/schemas/Tags'
      required:
        - name
    Policy:
      description: Describes a policy. Allows for domain extension.
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        parent_policy_id:
          $ref: '#/components/schemas/Policy/properties/id'
        time:
          $ref: '#/components/schemas/Time'
    Price:
      description: Describes the price of an item. Allows for domain extension.
      type: object
      properties:
        currency:
          type: string
        value:
          $ref: '#/components/schemas/DecimalValue'
        estimated_value:
          $ref: '#/components/schemas/DecimalValue'
        computed_value:
          $ref: '#/components/schemas/DecimalValue'
        listed_value:
          $ref: '#/components/schemas/DecimalValue'
        offered_value:
          $ref: '#/components/schemas/DecimalValue'
        minimum_value:
          $ref: '#/components/schemas/DecimalValue'
        maximum_value:
          $ref: '#/components/schemas/DecimalValue'
    Provider:
      description: 'Describes a service provider. This can be a restaurant, a hospital, a Store etc'
      type: object
      properties:
        id:
          type: string
          description: Id of the provider
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        category_id:
          type: string
          description: Category Id of the provider
        time:
          $ref: '#/components/schemas/Time'
        categories:
          type: array
          items:
            $ref: '#/components/schemas/Category'
        fulfillments:
          type: array
          items:
            $ref: '#/components/schemas/Fulfillment'
        payments:
          type: array
          items:
            $ref: '#/components/schemas/Payment'
        items:
          type: array
          items:
            $ref: '#/components/schemas/Item'
        location:
          $ref: '#/components/schemas/Location'
        exp:
          type: string
          description: Time after which catalog has to be refreshed
          format: date-time
        tags:
          $ref: '#/components/schemas/Tags'
    Quotation:
      description: Describes a quote
      type: object
      properties:
        price:
          $ref: '#/components/schemas/Price'
        breakup:
          type: array
          items:
            type: object
            properties:
              title:
                type: string
              price:
                $ref: '#/components/schemas/Price'
        ttl:
          $ref: '#/components/schemas/Duration'
    Response:
      title: Response
      type: object
      properties:
        error:
          $ref: '#/components/schemas/Error'
        message:
          $ref: '#/components/schemas/Message'
    Scalar:
      description: An object representing a scalar quantity.
      type: object
      properties:
        type:
          type: string
          enum:
            - CONSTANT
            - VARIABLE
        value:
          type: number
        estimated_value:
          type: number
        computed_value:
          type: number
        range:
          type: object
          properties:
            min:
              type: number
            max:
              type: number
        unit:
          type: string
      required:
        - value
        - unit
    Schedule:
      description: Describes a schedule
      type: object
      properties:
        frequency:
          $ref: '#/components/schemas/Duration'
        holidays:
          type: array
          items:
            type: string
            format: date-time
        times:
          type: array
          items:
            type: string
            format: date-time
    State:
      description: Describes a state
      type: object
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        updated_at:
          type: string
          format: date-time
        updated_by:
          type: string
          description: ID of entity which changed the state
    SubscriberDto:
      type: object
      description: 'Any entity which wants to authenticate itself on a network. This can be a DHP-Consumer, DHP-Provider, DG.'
      title: Subscriber
      properties:
        city:
          type: string
          description: City code
        country:
          type: string
          description: Country code as per ISO 3166-1 and ISO 3166-2 format
        domain:
          type: string
          description: Industry domain of the subscriber.
        encr_public_key:
          type: string
          description: Encryption public key of the dhp_consumer subscriber. Any dhp_provider must encrypt the requestBody.message value of the on_search API using this public key.
        participant_id:
          type: string
          description: A unique ID describing a participant on a network.
        pub_key_id:
          type: string
          description: A unique ID describing  public key uniquely on a network.
        status:
          type: string
          enum:
            - INITIATED
            - SUBSCRIBED
            - UNSUBSCRIBED)
        subscriber_id:
          type: string
          description: Registered domain name of the subscriber. Must have a valid SSL certificate issued by a Certificate Authority of the operating region
        subscriber_url:
          type: string
          description: Callback URL of the subscriber. The Registry will call this URL's on_subscribe API to validate the subscriber's credentials
        type:
          type: string
          enum:
            - consumer
            - provider
            - gateway
        valid_from:
          type: string
          description: Keys valid from
        valid_until:
          type: string
          description: Keys valid until
    Tags:
      description: Describes a tag. This is a simple key-value store which is used to contain read-only metadata
      additionalProperties:
        type: string
    Time:
      description: 'Describes time in its various forms. It can be a single point in time; duration; or a structured timetable of operations<br> UHI currently follows ISO 8601 without timezone format (2022-07-15T00:00:00)'
      type: object
      properties:
        label:
          type: string
        timestamp:
          type: string
          format: date-time
        duration:
          $ref: '#/components/schemas/Duration'
        range:
          type: object
          properties:
            start:
              type: string
              format: date-time
            end:
              type: string
              format: date-time
        days:
          type: string
          description: comma separated values representing days of the week
        schedule:
          $ref: '#/components/schemas/Schedule'
